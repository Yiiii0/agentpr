[supervisord]
nodaemon=true

[program:agentpr_telegram_bot]
directory=/ABSOLUTE/PATH/TO/TensorBlcok/agentpr
command=/bin/zsh -lc '/opt/homebrew/bin/python3.11 -m orchestrator.cli doctor --skip-network-check --no-require-gh-auth --require-telegram-token && /opt/homebrew/bin/python3.11 -m orchestrator.cli run-telegram-bot --allow-chat-id CHANGE_ME --write-chat-id CHANGE_ME --admin-chat-id CHANGE_ME'
autostart=true
autorestart=true
startsecs=3
stopwaitsecs=20
stdout_logfile=/ABSOLUTE/PATH/TO/TensorBlcok/agentpr/orchestrator/data/reports/telegram.stdout.log
stderr_logfile=/ABSOLUTE/PATH/TO/TensorBlcok/agentpr/orchestrator/data/reports/telegram.stderr.log
environment=AGENTPR_TELEGRAM_BOT_TOKEN="CHANGE_ME",AGENTPR_CODEX_BIN="/ABSOLUTE/PATH/TO/codex",PYTHONUNBUFFERED="1"

[program:agentpr_github_webhook]
directory=/ABSOLUTE/PATH/TO/TensorBlcok/agentpr
command=/bin/zsh -lc '/opt/homebrew/bin/python3.11 -m orchestrator.cli doctor --skip-network-check --no-require-gh-auth --require-webhook-secret && /opt/homebrew/bin/python3.11 -m orchestrator.cli run-github-webhook --host 0.0.0.0 --port 8787 --max-payload-bytes 1048576'
autostart=true
autorestart=true
startsecs=3
stopwaitsecs=20
stdout_logfile=/ABSOLUTE/PATH/TO/TensorBlcok/agentpr/orchestrator/data/reports/webhook.stdout.log
stderr_logfile=/ABSOLUTE/PATH/TO/TensorBlcok/agentpr/orchestrator/data/reports/webhook.stderr.log
environment=AGENTPR_GITHUB_WEBHOOK_SECRET="CHANGE_ME",AGENTPR_CODEX_BIN="/ABSOLUTE/PATH/TO/codex",PYTHONUNBUFFERED="1"
